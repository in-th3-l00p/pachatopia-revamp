---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import CallToAction from "../components/CallToAction.astro";
import Footer from "../components/Footer.astro";
import { useTranslations } from "../i18n/translations";

const lang = "fr";
const t = useTranslations(lang);

const faqItems = [
  { q: t("faqPage.q1"), a: t("faqPage.a1") },
  { q: t("faqPage.q2"), a: t("faqPage.a2") },
  { q: t("faqPage.q3"), a: t("faqPage.a3") },
  { q: t("faqPage.q4"), a: t("faqPage.a4") },
  { q: t("faqPage.q5"), a: t("faqPage.a5") },
];
---

<Layout
  title={`${t("faqPage.title")} - Pachatopia`}
  description="Questions fréquentes sur Pachatopia : comment participer, nos projets d'agriculture durable, la monnaie écologique et notre mission en Colombie."
  lang={lang}
>
  <Header lang={lang} />
  <main>
    <!-- Hero Banner -->
    <section class="relative text-white py-24 md:py-32 overflow-hidden">
      <div class="absolute inset-0">
        <img src="/images/community.jpg" alt="" class="absolute inset-0 w-full h-full object-cover" aria-hidden="true" />
        <div class="absolute inset-0 bg-primary/80"></div>
      </div>

      <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-white leading-tight mb-4">
          {t("faqPage.title")}
        </h1>
        <p class="text-lg md:text-xl text-white/85 leading-relaxed max-w-2xl mx-auto">
          {t("faqPage.subtitle")}
        </p>
      </div>
    </section>

    <!-- FAQ Accordion Section -->
    <section class="py-20 md:py-28 bg-cream relative overflow-hidden">
      <!-- Subtle decorative elements -->
      <div class="absolute top-10 left-10 w-48 h-48 bg-accent/[0.03] rounded-full blur-2xl"></div>
      <div class="absolute bottom-10 right-10 w-64 h-64 bg-primary/[0.03] rounded-full blur-2xl"></div>

      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="space-y-4">
          {faqItems.map((item, i) => (
            <details class="group bg-white rounded-2xl overflow-hidden transition-all duration-300" style="box-shadow: 0 2px 8px rgba(11,91,75,0.06);">
              <summary class="flex items-center justify-between cursor-pointer px-6 py-5 md:px-8 md:py-6 list-none [&::-webkit-details-marker]:hidden">
                <div class="flex items-center gap-4">
                  <span class="flex-shrink-0 w-8 h-8 rounded-full bg-accent/10 text-accent flex items-center justify-center text-sm font-semibold">
                    {i + 1}
                  </span>
                  <h3 class="text-primary font-semibold text-base md:text-lg text-left leading-snug pr-4">
                    {item.q}
                  </h3>
                </div>
                <span class="flex-shrink-0 w-8 h-8 rounded-full bg-cream flex items-center justify-center transition-transform duration-300 group-open:rotate-45">
                  <svg class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                  </svg>
                </span>
              </summary>
              <div class="px-6 pb-6 md:px-8 md:pb-8">
                <div class="pl-12 border-l-2 border-accent/20">
                  <p class="text-gray-600 leading-relaxed">
                    {item.a}
                  </p>
                </div>
              </div>
            </details>
          ))}
        </div>
      </div>
    </section>

    <CallToAction lang={lang} />
  </main>
  <Footer lang={lang} />
</Layout>
