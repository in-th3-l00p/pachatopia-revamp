---
import { useTranslations } from '../i18n/translations';

interface Props {
  lang?: "fr" | "en";
}

const { lang = "fr" } = Astro.props;
const t = useTranslations(lang);
---

<section data-testid="cta-section" class="relative py-24 md:py-32 overflow-hidden">
  <!-- Nature gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-primary via-primary-light to-accent"></div>

  <!-- Organic decorative SVG shapes -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <!-- Large organic blob top-left -->
    <svg class="absolute -top-20 -left-20 w-96 h-96 text-white/[0.04]" viewBox="0 0 400 400" fill="currentColor">
      <path d="M201.5,6.5Q256,13,290,56.5Q324,100,349.5,150Q375,200,349.5,250Q324,300,284,340.5Q244,381,197,374.5Q150,368,111,337Q72,306,44,256Q16,206,37.5,153Q59,100,104.5,63Q150,26,201.5,6.5Z" />
    </svg>

    <!-- Medium blob right side -->
    <svg class="absolute top-1/2 -right-16 w-80 h-80 text-white/[0.03] -translate-y-1/2" viewBox="0 0 400 400" fill="currentColor">
      <path d="M218,9Q182,18,145.5,42Q109,66,78.5,100.5Q48,135,34,175.5Q20,216,40.5,258Q61,300,100,329Q139,358,183,371.5Q227,385,268,363.5Q309,342,339.5,306Q370,270,381,225Q392,180,371,137Q350,94,317.5,59Q285,24,251.5,10.5Q218,0,218,9Z" />
    </svg>

    <!-- Small blob bottom-left -->
    <svg class="absolute -bottom-10 left-1/4 w-64 h-64 text-white/[0.04]" viewBox="0 0 400 400" fill="currentColor">
      <path d="M220,22.5Q198,45,165.5,48Q133,51,99,72.5Q65,94,56,134Q47,174,32,214Q17,254,46.5,286.5Q76,319,111.5,339Q147,359,191,367Q235,375,271,353Q307,331,340,302.5Q373,274,378,232Q383,190,368,150.5Q353,111,326,79.5Q299,48,259.5,35.5Q220,23,220,22.5Z" />
    </svg>

    <!-- Tiny floating dots -->
    <svg class="absolute top-16 right-1/4 w-3 h-3 text-white/20" viewBox="0 0 12 12" fill="currentColor">
      <circle cx="6" cy="6" r="6" />
    </svg>
    <svg class="absolute bottom-20 left-1/3 w-2 h-2 text-white/15" viewBox="0 0 12 12" fill="currentColor">
      <circle cx="6" cy="6" r="6" />
    </svg>
    <svg class="absolute top-1/3 left-16 w-4 h-4 text-white/10" viewBox="0 0 12 12" fill="currentColor">
      <circle cx="6" cy="6" r="6" />
    </svg>

    <!-- Leaf silhouette top-right -->
    <svg class="absolute top-8 right-12 w-24 h-24 text-white/[0.06] rotate-12" viewBox="0 0 100 100" fill="currentColor">
      <path d="M50 5C50 5 85 25 85 60C85 80 70 95 50 95C30 95 15 80 15 60C15 25 50 5 50 5Z" />
      <line x1="50" y1="95" x2="50" y2="30" stroke="currentColor" stroke-width="2" opacity="0.5" />
    </svg>

    <!-- Wave shape bottom -->
    <svg class="absolute bottom-0 left-0 w-full h-16 text-white/[0.04]" viewBox="0 0 1440 64" fill="currentColor" preserveAspectRatio="none">
      <path d="M0 32C180 52 360 12 540 32C720 52 900 12 1080 32C1260 52 1360 32 1440 32V64H0V32Z" />
    </svg>
  </div>

  <!-- Content -->
  <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <!-- Decorative top element -->
    <div class="flex justify-center mb-8">
      <div class="flex items-center gap-3">
        <div class="w-8 h-px bg-white/30"></div>
        <svg class="w-6 h-6 text-white/60" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 21c-4-4-8-7.5-8-12a8 8 0 0116 0c0 4.5-4 8-8 12z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 21V9" />
        </svg>
        <div class="w-8 h-px bg-white/30"></div>
      </div>
    </div>

    <!-- Heading -->
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-heading font-bold text-white leading-tight mb-6">
      {t("cta.title")}
    </h2>

    <!-- Text -->
    <p class="text-lg md:text-xl text-white/80 leading-relaxed max-w-2xl mx-auto mb-10">
      {t("cta.text")}
    </p>

    <!-- CTA Button -->
    <a
      href={lang === "en" ? "/en/contacts/" : "/contacts/"}
      class="group inline-flex items-center gap-3 bg-white text-primary font-semibold text-lg px-10 py-4 rounded-full transition-all duration-300 hover:bg-cream hover:shadow-lg hover:shadow-black/10 hover:-translate-y-0.5 active:translate-y-0"
    >
      <span>{t("cta.button")}</span>
      <svg
        class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
      </svg>
    </a>

    <!-- Subtle bottom decorative text -->
    <p class="mt-10 text-white/40 text-sm tracking-wide">
      Pachatopia &middot; Pachamama
    </p>
  </div>
</section>
